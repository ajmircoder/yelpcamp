<% layout('/layouts/boilerplate') %>
<h1 class="text-center" style="font-size: 50px; font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">all Campgrounds</h1>
    <div id="map" style="width: 100%; height: 500px;">
    </div>
        <% for(let campground of campgrounds) { %>
            <div class="card p-2 mb-2">
                <div class="row">
                    <div class="col-md-4">
                        <% if(campground.images.length) {%>
                        <img crossorigin="anonymous" src="<%=campground.images[0].url%>" style="width: 300px; height: 300px;" class="img-fluid" alt="">
                        <% }else{ %>
                            <img crossorigin="anonymous" style="width: 300px;" src="https://images.pexels.com/photos/1574843/pexels-photo-1574843.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="">
                            <% } %>
                    </div>
                    <div class="col-md-8">
                        <div class="card-body">
                            <h5 class="card-title"><%= campground.title %></h5>
                            <h5> <%= campground.state %></h5>
                            <h5><%= campground.price %></h5>
                            <a href="/campgrounds/<%= campground._id%>" class="btn btn-primary"><%= campground.title %></a>
                        </div>
                    </div>
                </div>
            </div>
            

                <% } %>
<script>
    const token = '<%-process.env.MAPBOX_TOKEN%>'
    const campgrounds = { features: <%-JSON.stringify(campgrounds)%>};
</script>
<script src="/javascript/mapCluster.js"></script>